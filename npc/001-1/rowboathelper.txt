// Evol scripts.
// Author:
//    Toams
// Description:
//    helper scripts for rowboat usage
// TODO:
// make the script dialog different if there is no rowboat present at the cave

// calling the Rowboat
001-1,200,60,0	script	Curious Hole	NPC_NO_SPRITE,{

    .@monadad = getq(ArtisQuests_MonaDad);

    narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
        l("You see a curious hole behind some rocks"),
        l("'Hey anyone there?'"),
        l("..."),
        l("Altough you can't get rid of the feeling someone is listening on the other side, you don't get any replies"));
    if  (.@monadad < 3)
    {
        close;
    }
    else
    {
        narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
            l("Suddenly you remember the strange phrase Mona overheard Sophialla saying"),
            l("Maybe you should try this phrase?"));
        if (askyesno() == ASK_YES)
        {
            narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
                l("'Enter strange phrase here.'"));

            speech S_FIRST_BLANK_LINE | S_LAST_NEXT,
                l("Hello, a rowboat is on his way to the beach. Please wait for a while for it to arrive.");

            doevent("#Rowboat::OnMoveToBeach");
            close;
        }
        else
            close;
    }

// Make sure to unmount the boat when player dies
OnPCDieEvent:
   setmount 0;

OnInit:
    .distance = 1;
}


//unmounting the rowboat at eastern beach
001-1,202,62,0	script	unmountrowboateast	NPC_HIDDEN,1,1,{

    function UnMount {
        narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
            l("Do you want to leave the boat?"));
        if (askyesno() == ASK_YES)
        {
            slide_or_warp("001-1", 199, 62);
            setmount 0;
            close;
        }
}

OnTouch:
    UnMount;
    end;

OnInit:
    .sex = G_OTHER;
    .distance = 1;
}


//unmounting the rowboat at southern beach
001-1,68,143,0	script	unmountrowboatsouth	NPC_HIDDEN,1,1,{

    function UnMount {
        narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
            l("Do you want to leave the boat?"));
        if (askyesno() == ASK_YES)
        {
            slide_or_warp("001-1", 68, 138);
            setmount 0;
            close;
        }
}

OnTouch:
    UnMount;
    end;

OnInit:
    .sex = G_OTHER;
    .distance = 1;
}


//unmounting the rowboat at western beach
001-1,25,101,0	script	unmountrowboatwest	NPC_HIDDEN,1,1,{

    function UnMount {
        narrator(S_LAST_BLANK_LINE | S_LAST_NEXT,
            l("Do you want to leave the boat?"));
        if (askyesno() == ASK_YES)
        {
            slide_or_warp("001-1", 27, 101);
            setmount 0;
            close;
        }
}

OnTouch:
    UnMount;
    end;

OnInit:
    .sex = G_OTHER;
    .distance = 1;
}
